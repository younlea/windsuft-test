<?xml version="1.0"?>
<robot name="five_finger_hand_4dof">
  <!-- Palm base -->
  <link name="base">
    <visual>
      <geometry><box size="0.08 0.02 0.12"/></geometry>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <material name="palm"><color rgba="0.8 0.7 0.6 1"/></material>
    </visual>
  </link>

  <!-- Thumb (finger 5): base (side of palm) with roll -> pitch -> pitch -->
  <link name="thumb_root"/>
  <joint name="thumb_roll_joint" type="revolute">
    <parent link="base"/>
    <child link="thumb_root"/>
    <origin xyz="0.04 0.025 0.02" rpy="0 0 3.14159"/>
    <axis xyz="0 0 1"/>
    <limit lower="-0.5" upper="0.5" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="thumb_base">
    <visual>
      <geometry><box size="0.012 0.03 0.012"/></geometry>
      <origin xyz="0 0.015 0" rpy="0 0 0"/>
      <material name="blue"><color rgba="0.3 0.5 0.9 1"/></material>
    </visual>
  </link>
  <joint name="thumb_base_pitch_joint" type="revolute">
    <parent link="thumb_root"/>
    <child link="thumb_base"/>
    <origin xyz="0 0.03 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="-0.8" upper="0.5" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="thumb_mid">
    <visual>
      <geometry><box size="0.01 0.025 0.01"/></geometry>
      <origin xyz="0 0.0125 0" rpy="0 0 0"/>
      <material name="blue"><color rgba="0.3 0.5 0.9 1"/></material>
    </visual>
  </link>
  <joint name="thumb_mid_pitch_joint" type="revolute">
    <parent link="thumb_base"/>
    <child link="thumb_mid"/>
    <origin xyz="0 0.03 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.0" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="thumb_tip">
    <visual>
      <geometry><box size="0.008 0.02 0.008"/></geometry>
      <origin xyz="0 0.01 0" rpy="0 0 0"/>
      <material name="blue"><color rgba="0.3 0.5 0.9 1"/></material>
    </visual>
  </link>
  <joint name="thumb_tip_joint" type="revolute">
    <parent link="thumb_mid"/>
    <child link="thumb_tip"/>
    <origin xyz="0 0.025 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.57" effort="1.0" velocity="1.0"/>
  </joint>

  <!-- Index (finger 2): base_y -> base_x -> mid_x -> tip_x -->
  <link name="index_root"/>
  <joint name="index_base_y_joint" type="revolute">
    <parent link="base"/>
    <child link="index_root"/>
    <origin xyz="-0.02 0 0.06" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.3" upper="0.6" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="index_base">
    <visual>
      <geometry><box size="0.012 0.012 0.035"/></geometry>
      <origin xyz="0 0 0.0175" rpy="0 0 0"/>
      <material name="green"><color rgba="0.3 0.9 0.5 1"/></material>
    </visual>
  </link>
  <joint name="index_base_x_joint" type="revolute">
    <parent link="index_root"/>
    <child link="index_base"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="-0.2" upper="0.8" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="index_mid">
    <visual>
      <geometry><box size="0.01 0.01 0.028"/></geometry>
      <origin xyz="0 0 0.014" rpy="0 0 0"/>
      <material name="green"><color rgba="0.3 0.9 0.5 1"/></material>
    </visual>
  </link>
  <joint name="index_mid_joint" type="revolute">
    <parent link="index_base"/>
    <child link="index_mid"/>
    <origin xyz="0 0 0.035" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.5" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="index_tip">
    <visual>
      <geometry><box size="0.008 0.008 0.02"/></geometry>
      <origin xyz="0 0 0.01" rpy="0 0 0"/>
      <material name="green"><color rgba="0.3 0.9 0.5 1"/></material>
    </visual>
  </link>
  <joint name="index_tip_joint" type="revolute">
    <parent link="index_mid"/>
    <child link="index_tip"/>
    <origin xyz="0 0 0.028" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.2" effort="1.0" velocity="1.0"/>
  </joint>

  <!-- Middle (finger 3): base_y -> base_x -> mid_x -> tip_x -->
  <link name="middle_root"/>
  <joint name="middle_base_y_joint" type="revolute">
    <parent link="base"/>
    <child link="middle_root"/>
    <origin xyz="0.0 0 0.06" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.3" upper="0.6" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="middle_base">
    <visual>
      <geometry><box size="0.012 0.012 0.04"/></geometry>
      <origin xyz="0 0 0.02" rpy="0 0 0"/>
      <material name="red"><color rgba="0.9 0.3 0.3 1"/></material>
    </visual>
  </link>
  <joint name="middle_base_x_joint" type="revolute">
    <parent link="middle_root"/>
    <child link="middle_base"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="-0.2" upper="0.8" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="middle_mid">
    <visual>
      <geometry><box size="0.01 0.01 0.032"/></geometry>
      <origin xyz="0 0 0.016" rpy="0 0 0"/>
      <material name="red"><color rgba="0.9 0.3 0.3 1"/></material>
    </visual>
  </link>
  <joint name="middle_mid_joint" type="revolute">
    <parent link="middle_base"/>
    <child link="middle_mid"/>
    <origin xyz="0 0 0.04" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.5" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="middle_tip">
    <visual>
      <geometry><box size="0.008 0.008 0.022"/></geometry>
      <origin xyz="0 0 0.011" rpy="0 0 0"/>
      <material name="red"><color rgba="0.9 0.3 0.3 1"/></material>
    </visual>
  </link>
  <joint name="middle_tip_joint" type="revolute">
    <parent link="middle_mid"/>
    <child link="middle_tip"/>
    <origin xyz="0 0 0.032" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.2" effort="1.0" velocity="1.0"/>
  </joint>

  <!-- Ring (finger 4): base_y -> base_x -> mid_x -> tip_x -->
  <link name="ring_root"/>
  <joint name="ring_base_y_joint" type="revolute">
    <parent link="base"/>
    <child link="ring_root"/>
    <origin xyz="0.02 0 0.06" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.3" upper="0.6" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="ring_base">
    <visual>
      <geometry><box size="0.012 0.012 0.037"/></geometry>
      <origin xyz="0 0 0.0185" rpy="0 0 0"/>
      <material name="yellow"><color rgba="0.9 0.9 0.3 1"/></material>
    </visual>
  </link>
  <joint name="ring_base_x_joint" type="revolute">
    <parent link="ring_root"/>
    <child link="ring_base"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="-0.2" upper="0.8" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="ring_mid">
    <visual>
      <geometry><box size="0.01 0.01 0.03"/></geometry>
      <origin xyz="0 0 0.015" rpy="0 0 0"/>
      <material name="yellow"><color rgba="0.9 0.9 0.3 1"/></material>
    </visual>
  </link>
  <joint name="ring_mid_joint" type="revolute">
    <parent link="ring_base"/>
    <child link="ring_mid"/>
    <origin xyz="0 0 0.037" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.5" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="ring_tip">
    <visual>
      <geometry><box size="0.008 0.008 0.02"/></geometry>
      <origin xyz="0 0 0.01" rpy="0 0 0"/>
      <material name="yellow"><color rgba="0.9 0.9 0.3 1"/></material>
    </visual>
  </link>
  <joint name="ring_tip_joint" type="revolute">
    <parent link="ring_mid"/>
    <child link="ring_tip"/>
    <origin xyz="0 0 0.03" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.2" effort="1.0" velocity="1.0"/>
  </joint>

  <!-- Pinky (finger 5): base_y -> base_x -> mid_x -> tip_x -->
  <link name="pinky_root"/>
  <joint name="pinky_base_y_joint" type="revolute">
    <parent link="base"/>
    <child link="pinky_root"/>
    <origin xyz="0.035 0 0.06" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-0.3" upper="0.6" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="pinky_base">
    <visual>
      <geometry><box size="0.01 0.01 0.028"/></geometry>
      <origin xyz="0 0 0.014" rpy="0 0 0"/>
      <material name="purple"><color rgba="0.8 0.3 0.8 1"/></material>
    </visual>
  </link>
  <joint name="pinky_base_x_joint" type="revolute">
    <parent link="pinky_root"/>
    <child link="pinky_base"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="-0.2" upper="0.8" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="pinky_mid">
    <visual>
      <geometry><box size="0.008 0.008 0.022"/></geometry>
      <origin xyz="0 0 0.011" rpy="0 0 0"/>
      <material name="purple"><color rgba="0.8 0.3 0.8 1"/></material>
    </visual>
  </link>
  <joint name="pinky_mid_joint" type="revolute">
    <parent link="pinky_base"/>
    <child link="pinky_mid"/>
    <origin xyz="0 0 0.028" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.5" effort="1.0" velocity="1.0"/>
  </joint>

  <link name="pinky_tip">
    <visual>
      <geometry><box size="0.006 0.006 0.016"/></geometry>
      <origin xyz="0 0 0.008" rpy="0 0 0"/>
      <material name="purple"><color rgba="0.8 0.3 0.8 1"/></material>
    </visual>
  </link>
  <joint name="pinky_tip_joint" type="revolute">
    <parent link="pinky_mid"/>
    <child link="pinky_tip"/>
    <origin xyz="0 0 0.022" rpy="0 0 0"/>
    <axis xyz="1 0 0"/>
    <limit lower="0.0" upper="1.2" effort="1.0" velocity="1.0"/>
  </joint>
</robot>
